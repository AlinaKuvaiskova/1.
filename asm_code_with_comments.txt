
SECTION .text          ; Начало секции кода
ORG 0x100              ; Установка начального адреса для COM-программы

mov AL,[a]             ; Загрузка значения переменной a (5) в AL
PUSH AX                ; Сохранение значения AL (т.е. a) в стеке

ADD BL,[b]             ; Прибавление значения переменной b к BL (изначально BL=0)
PUSH BX                ; Сохранение значения BL (т.е. b) в стеке

CALL f                 ; Вызов процедуры f

mov DL,[c]             ; Загрузка результата из переменной c в DL
ADD DL,'0'             ; Преобразование числа в ASCII-цифру для вывода
mov AH,0x02            ; Функция DOS для вывода символа
int 0x21               ; Вызов прерывания DOS

mov AH,0x4c            ; Функция DOS для завершения программы
int 0x21               ; Вызов прерывания DOS

f:                     ; Начало процедуры f
mov BP,SP              ; Установка базового указателя на текущий стек

MOV AX,[BP+2]          ; Загрузка второго аргумента (значение b) в AX (AL)
                       ; [BP+2] — это верх стека (последним пушили b)
MOV BX,[BP+4]          ; Загрузка первого аргумента (значение a) в BX (BL)
                       ; [BP+4] — это предпоследний элемент в стеке

ADD AL,BL              ; Сложение AL (b) и BL (a), результат в AL

mov [c],AL             ; Сохранение результата в переменную c

RET                    ; Возврат из процедуры

SECTION .data          ; Начало секции данных
a db 5                 ; Переменная a = 5
b db 2                 ; Переменная b = 2
c db 0                 ; Переменная для хранения результата
